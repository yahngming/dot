#!/bin/sh

bar() {
	notify-send -h string:x-canonical-private-synchronous:volume -h int:value:$(echo "(" "`wpctl get-volume $device | sed 's/.* //'`" "*100+0.5)/1" | bc) " "
}

up() {
	wpctl set-volume $device 2%+ -l 1 && bar
}

down() {
	wpctl set-volume $device 2%- && bar
}

mute() {
	wpctl set-mute $device toggle
}

help() {
	echo "Usage: volume [OPTION] [DEVICE]"
	echo "  up              Volume up"
	echo "  down            Volume up"
	echo "  mute            Toggle mute"
}

option=${1:-help}
device=${2:-@DEFAULT_SINK@}

$option
