#!/bin/sh

volbar() {
	notify-send -h string:x-canonical-private-synchronous:volume -h int:value:$(echo "(" "`wpctl get-volume @DEFAULT_SINK@ | sed 's/.* //'`" "*100+0.5)/1" | bc) " "
}

volup() {
	wpctl set-volume @DEFAULT_AUDIO_SINK@ 2%+ -l 1 && volbar
}

voldown() {
}

volmute() {
}

micbar() {
	notify-send -h string:x-canonical-private-synchronous:volume -h int:value:$(echo "(" "`wpctl get-volume @DEFAULT_SOURCE@ | sed 's/.* //'`" "*100+0.5)/1" | bc) " "
}

micup() {
	wpctl set-volume @DEFAULT_AUDIO_SOURCE@ 2%+ -l 1 && micbar
}

help() {
	echo "Usage: postinstall [option]"
	echo "  arch            run post install script on Arch"
	echo "  chromeos        run post install script on ChromeOS"
}

volume=${1:-help}
$volume
