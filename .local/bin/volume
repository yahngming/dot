#!/bin/sh

sinkbar() {
	notify-send -h string:x-canonical-private-synchronous:volume -h int:value:$(echo "(" "`wpctl get-volume @DEFAULT_SINK@ | sed 's/.* //'`" "*100+0.5)/1" | bc) " "
}

sinkup() {
	wpctl set-volume @DEFAULT_AUDIO_SINK@ 2%+ -l 1 && sinkbar
}

sinkdown() {
	wpctl set-volume @DEFAULT_AUDIO_SINK@ 2%- && sinkbar
}

sinkmute() {
	wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
}

sourcebar() {
	notify-send -h string:x-canonical-private-synchronous:volume -h int:value:$(echo "(" "`wpctl get-volume @DEFAULT_SOURCE@ | sed 's/.* //'`" "*100+0.5)/1" | bc) " "
}

sourceup() {
	wpctl set-volume @DEFAULT_AUDIO_SOURCE@ 2%+ -l 1 && sourcebar
}

sourcedown() {
	wpctl set-volume @DEFAULT_AUDIO_SOURCE@ 2%- && sourcebar
}

sourcemute() {
	wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
}

help() {
	echo "Usage: postinstall [option]"
	echo "  arch            run post install script on Arch"
	echo "  chromeos        run post install script on ChromeOS"
}

volume=${1:-help}
$volume
