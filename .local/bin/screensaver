#!/bin/sh

readarray -t screensavers < <(grep -vE '^\s*(#|$)' ~/.config/screensaver)
screensaver=${screensavers[$(($RANDOM%${#screensavers[@]}))]}

if pgrep -f " screensaver " || pgrep hyprlock || pgrep mpv || [ "$screensaver" == "none" ]; then
	exit
else
	tui "$screensaver"
fi
