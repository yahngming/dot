#!/bin/sh

if pgrep -f " screensaver " || pgrep hyprlock || pgrep mpv || [ "$(awk '{print $1; exit}' '~/.config/screensaver')" == "none" ]; then
	exit
fi

readarray -t screensavers < <(grep -vE '^\s*(#|$)' ~/.config/screensaver)
screensaver=${screensavers[$(($RANDOM%${#screensavers[@]}))]}

tui "$screensaver"
