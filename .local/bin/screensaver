#!/bin/sh

if pgrep -f " screensaver " || pgrep locker || pgrep mpv || [ ! -f ~/.config/screensaver ]; then
	exit
fi

readarray -t screensavers < <(grep -vE '^\s*(#|$)' ~/.config/screensaver)
screensaver=${screensavers[$(($RANDOM%${#screensavers[@]}))]}

st -F -T screensaver -e $SHELL -c "$screensaver"
