#!/bin/sh

case "$LAUNCHER" in
	dmenu ) opt="-noi" ;;
esac

menu="\
icononly\n\
macos\n\
mecha\n\
modern\n\
omarchy\n\
powerline\n\
vertical\n\
windows\n\
"

choice=$(printf "$menu" | menu $opt -p "Select a bar style:" "$@")

if [ -n "$WAYLAND_DISPLAY" ] && [ -f ~/.config/waybar/config-$choice.jsonc ] && [ -f ~/.config/waybar/style-$choice.css ]; then
	cp ~/.config/waybar/config-$choice.jsonc ~/.config/waybar/config.jsonc
 	cp ~/.config/waybar/style-$choice.css ~/.config/waybar/style.css
 	killall waybar
	hyprctl dispatch exec waybar >/dev/null 2>&1
fi
