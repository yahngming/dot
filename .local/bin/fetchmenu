#!/bin/sh

case "$LAUNCHER" in
	dmenu ) opt="-noi" ;;
esac

menu="\
config-box\n\
config-inline\n\
config-omarchy\n\
logo-auto\n\
logo-arch\n\
logo-clippy\n\
logo-dos\n\
logo-ibm\n\
logo-invader\n\
logo-thinkpad\n\
logo-windows\n\
"

choice=$(printf "$menu" | menu $opt -p "Select a fetch style:" "$@")

if [ "$choice" == "logo-auto" ]; then
	case "$(cat /sys/devices/virtual/dmi/id/product_family)" in
		*ThinkPad* ) choice="logo-thinkpad" ;;
		*          ) choice="logo-arch" ;;
	esac
fi

if [ -f ~/.config/fastfetch/$choice.jsonc ] || [ -f ~/.config/fastfetch/$choice.txt ]; then
	cp ~/.config/fastfetch/$choice.jsonc ~/.config/fastfetch/config.jsonc
	cp ~/.config/fastfetch/$choice.txt ~/.config/fastfetch/logo.txt
fi
