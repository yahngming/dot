#!/bin/sh

source ~/.local/bin/lib

auto() {
	if [[ "$(date +%H:%M)" < "06:00" ]] || [[ "$(date +%H:%M)" > "18:00" ]]; then
		touch -f ~/.config/dark
	else
		rm -f ~/.config/dark
	fi
	theme
	systemctl --user start sun@darkmode.timer
	systemctl --user enable sun@darkmode.timer
}

dark() {
	touch -f ~/.config/dark
	theme
	systemctl --user stop sun@darkmode.timer
	systemctl --user disable sun@darkmode.timer
}

light() {
	rm -f ~/.config/dark
	theme
	systemctl --user stop sun@darkmode.timer
	systemctl --user disable sun@darkmode.timer
}

help() {
	echo "Usage:"
	echo "  darkmode [MODE]"
	echo "    auto         auto switch"
	echo "    dark         dark mode"
	echo "    light        light mode"
}

mode=${1:-help}
$mode
