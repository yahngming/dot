#!/bin/sh

case "$MENU" in
	dmenu ) opt="-noi" ;;
esac

menu="\
colorful\n\
icononly\n\
modern\n\
powerline\n\
windows\n\
"

theme=$(printf "$menu" | $MENU $opt -p "Select theme:" "$@")

if [ -n "$WAYLAND_DISPLAY" ] && [ -f ~/.config/waybar/config-$theme.jsonc ]; then
	cat ~/.config/waybar/config-$theme.jsonc > ~/.config/waybar/config.jsonc
	cat ~/.config/waybar/style-$theme.css > ~/.config/waybar/style.css
	killall waybar
	hyprctl dispatch exec waybar >/dev/null 2>&1
fi
