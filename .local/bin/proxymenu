#!/bin/sh

case "$LAUNCHER" in
	dmenu ) opt="-noi" ;;
esac

menu="\
󰨇 Dashboard\n\
󰌙 Disable/stop proxy\n\
󱊪 Enable/start proxy\n\
 Subconverter\n\
󰿨 Sub-Store\n\
"

case $(printf "$menu" | menu $opt -p "$(proxy)" "$@") in
	*Dashboard*    ) xdg-open http://127.0.0.1:9090/ ;;
	*Disable*      ) tui "proxy off" ;;
	*Enable*       ) tui "proxy on" ;;
	*Sub-Store*    ) xdg-open http://127.0.0.1:3001/?api=http://127.0.0.1:3001/12345678910987654321 ;;
	*Subconverter* ) xdg-open http://127.0.0.1:25500/sub?url=http%3A%2F%2F127.0.0.1%3A3001%2F12345678910987654321%2Fdownload%2Fcollection%2Feverything\&config=https%3A%2F%2Fraw.githubusercontent.com%2Fyahngming%2Frules%2Fmaster%2Fsubconverter.ini\&upload=true\&target=clash ;;
esac
