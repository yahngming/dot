[[ -f ~/.bashrc ]] && . ~/.bashrc

export HISTCONTROL="ignoreboth:erasedups"
export PATH="$HOME/.local/bin:$PATH"

export FZF_DEFAULT_COMMAND="fd --exclude .git --follow --hidden --strip-cwd-prefix"
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
export FZF_ALT_C_COMMAND="fd --exclude .git --follow --hidden --strip-cwd-prefix --type directory"

export BROWSER="firefox"
export EDITOR="vim"
export OPENER="mimeopen"
export PAGER="bat"
export TERMINAL="st"

export QT_STYLE_OVERRIDE="Windows"

export GTK_IM_MODULE="fcitx"
export QT_IM_MODULE="fcitx"
export XMODIFIERS="@im=fcitx"

export PROXY="http://127.0.0.1:7890"
export ALL_PROXY=$PROXY
export all_proxy=$PROXY
export FTP_PROXY=$PROXY
export ftp_proxy=$PROXY
export HTTP_PROXY=$PROXY
export http_proxy=$PROXY
export HTTPS_PROXY=$PROXY
export https_proxy=$PROXY

gsettings set org.gnome.system.proxy mode 'manual' 
gsettings set org.gnome.system.proxy.http host '127.0.0.1'
gsettings set org.gnome.system.proxy.http port 7890
gsettings set org.gnome.system.proxy.ftp host '127.0.0.1'
gsettings set org.gnome.system.proxy.ftp port 7890
gsettings set org.gnome.system.proxy.https host '127.0.0.1'
gsettings set org.gnome.system.proxy.https port 7890
gsettings set org.gnome.system.proxy.socks host '127.0.0.1'
gsettings set org.gnome.system.proxy.socks port 7891

if [ -z "$DISPLAY" ] && [ "$XDG_VTNR" = 1 ]; then
	exec startx ~/.config/xorg/xinitrc dwm
fi
